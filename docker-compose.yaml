nginx-proxy:
  image: budry/jwilder-nginx-proxy-arm 
  restart: always
  ports:
    - "80:80"
    - "443:443"
  volumes:
    - /var/run/docker.sock:/tmp/docker.sock:ro
      #- /home/pi/git/docker/nginx-ssl/certs:/etc/nginx/certs:ro
    - /home/pi/git/docker/nginx-ssl/certs
    - /etc/nginx/vhost.d
    - /usr/share/nginx/html
  labels:
    - com.github.jrcs.letsencrypt_nginx_proxy_companion.nginx_proxy 

      #letsencrypt:
      #image: budry/jrcs-letsencrypt-nginx-proxy-companion-arm
      #restart: always
      #volumes:
      #- /home/pi/git/docker/nginx-ssl/certs:/etc/nginx/certs:rw
      #- /var/run/docker.sock:/var/run/docker.sock:ro
      #volumes_from:
      #- nginx-proxy:rw
      #environment:
      #- DEFAULT_EMAIL=ferna2909@hotmail.com

zabbix:
  image: majormjr/rpi-zabbix
  restart: always
  ports:
    - "2812:2812"
    - "10051:10051"
    - "10052:10052"
  expose:
    - "80"
  environment:
    - VIRTUAL_HOST=zabbix
    - LETSENCRYPT_HOST=raspy
    - LETSENCRYPT_EMAIL=ferna2909@hotmail.com
  

www1:
  image: nginx
  restart: always
  expose:
    - "80"
  volumes:
    # siempre elegir una de las dos (maintenance o production)
    - /home/pi/git/docker/docker-share/html1/production:/usr/share/nginx/html:ro    # PRODUCCION
      #- /home/pi/git/docker/docker-share/html1/maintenance:/usr/share/nginx/html:ro   # MAINTENANCE
    #- /home/pi/git/docker/nginx-ssl/1/www:/usr/share/nginx/html:ro
  environment:
    - VIRTUAL_HOST=raspy
    - LETSENCRYPT_HOST=raspy
    - LETSENCRYPT_EMAIL=ferna2909@hotmail.com

www2:
  image: nginx
  restart: always
  expose:
    - "80"
  volumes:
    - /home/pi/git/docker/nginx-ssl/2/www:/usr/share/nginx/html:ro
  environment:
    - VIRTUAL_HOST=testing
    - LETSENCRYPT_HOST=testing
    - LETSENCRYPT_EMAIL=ferna2909@hotmail.com
